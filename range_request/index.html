
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="http://tricksterproxy.io/range_request/">
      
      
      <link rel="shortcut icon" href="../images/logos/trickster-logo.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.2">
    
    
      
        <title>Byte Range Request Support - Trickster</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f72e892.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#byte-range-request-support" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="http://tricksterproxy.io/" title="Trickster" class="md-header-nav__button md-logo" aria-label="Trickster">
      
  <img src="../images/logos/trickster-logo.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Trickster
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Byte Range Request Support
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/tricksterproxy/trickster/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    tricksterproxy/trickster
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="http://tricksterproxy.io/" title="Trickster" class="md-nav__button md-logo" aria-label="Trickster">
      
  <img src="../images/logos/trickster-logo.svg" alt="logo">

    </a>
    Trickster
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/tricksterproxy/trickster/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    tricksterproxy/trickster
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Welcome to MkDocs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caches/" class="md-nav__link">
      Cache Options
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../clickhouse/" class="md-nav__link">
      ClickHouse Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../collapsed-forwarding/" class="md-nav__link">
      Collapsed Forwarding
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuring/" class="md-nav__link">
      Configuring Trickster
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../health/" class="md-nav__link">
      Health Checks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../influxdb/" class="md-nav__link">
      InfluxDB Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../metrics/" class="md-nav__link">
      Trickster Metrics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../multi-origin/" class="md-nav__link">
      Using Multiple-Origins with a single Trickster instance
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../negative-caching/" class="md-nav__link">
      Negative Caching
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../new-changed-1.1/" class="md-nav__link">
      Trickster 1.1
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../paths/" class="md-nav__link">
      Customizing HTTP Path Behavior
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../per-query-instructions/" class="md-nav__link">
      Per-Query Time Series Instructions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../placement/" class="md-nav__link">
      Where to Place Trickster
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../promsim/" class="md-nav__link">
      PromSim Update
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Byte Range Request Support
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Byte Range Request Support
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fronting-origins-that-do-not-support-multipart-range-requests" class="md-nav__link">
    Fronting Origins That Do Not Support Multipart Range Requests
  </a>
  
    <nav class="md-nav" aria-label="Fronting Origins That Do Not Support Multipart Range Requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disabling-multpart-ranges-to-clients" class="md-nav__link">
    Disabling Multpart Ranges to Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partial-hit-with-object-revalidation" class="md-nav__link">
    Partial Hit with Object Revalidation
  </a>
  
    <nav class="md-nav" aria-label="Partial Hit with Object Revalidation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range-miss-with-object-revalidation" class="md-nav__link">
    Range Miss with Object Revalidation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parts-require-revalidation" class="md-nav__link">
    Multiple Parts Require Revalidation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-range-not-yet-supported" class="md-nav__link">
    If-Range Not Yet Supported
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mockster-byte-range" class="md-nav__link">
    Mockster Byte Range
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../request_rewriters/" class="md-nav__link">
      Request Rewriters
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../retention/" class="md-nav__link">
      Trickster Caching Retention Policies
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../roadmap/" class="md-nav__link">
      Trickster Roadmap
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rule/" class="md-nav__link">
      Rule Origin
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../supported-origin-types/" class="md-nav__link">
      Supported Origin Types
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tls/" class="md-nav__link">
      TLS Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tracing/" class="md-nav__link">
      Distributed Tracing via OpenTelemetry
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-24" type="checkbox" id="nav-24">
    
    <label class="md-nav__link" for="nav-24">
      Developer
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Developer" data-md-level="1">
      <label class="md-nav__title" for="nav-24">
        <span class="md-nav__icon md-icon"></span>
        Developer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../developer/adding-new-config/" class="md-nav__link">
      Adding a New Configuration Value
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../developer/origin-extensibility/" class="md-nav__link">
      Extending Trickster to Support a New Origin Type
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../developer/spinning-new-release/" class="md-nav__link">
      Spinning New Trickster Release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../developer/tracing/" class="md-nav__link">
      Tracing support
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fronting-origins-that-do-not-support-multipart-range-requests" class="md-nav__link">
    Fronting Origins That Do Not Support Multipart Range Requests
  </a>
  
    <nav class="md-nav" aria-label="Fronting Origins That Do Not Support Multipart Range Requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disabling-multpart-ranges-to-clients" class="md-nav__link">
    Disabling Multpart Ranges to Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partial-hit-with-object-revalidation" class="md-nav__link">
    Partial Hit with Object Revalidation
  </a>
  
    <nav class="md-nav" aria-label="Partial Hit with Object Revalidation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range-miss-with-object-revalidation" class="md-nav__link">
    Range Miss with Object Revalidation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parts-require-revalidation" class="md-nav__link">
    Multiple Parts Require Revalidation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-range-not-yet-supported" class="md-nav__link">
    If-Range Not Yet Supported
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mockster-byte-range" class="md-nav__link">
    Mockster Byte Range
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/tricksterproxy/trickster/edit/master/docs/range_request.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="byte-range-request-support">Byte Range Request Support</h1>
<p>Trickster's HTTP Reverse Proxy Cache offers best-in-class acceleration and caching of Byte Range Requests.</p>
<p>Much like its Time Series Delta Proxy Cache, Trickster's Reverse Proxy Cache will determine what ranges are cached, and only request from the origin any uncached ranges needed to service the client request, reconstituting the ranges within the cache object. This ensures minimal response time for all Range requests.</p>
<p>In addition to supporting requests with a single Range (<code>Range: bytes=0-5</code>) Trickster also supports Multipart Range Requests (<code>Range: bytes=0-5, 10-20</code>).</p>
<h2 id="fronting-origins-that-do-not-support-multipart-range-requests">Fronting Origins That Do Not Support Multipart Range Requests</h2>
<p>In the event that an upstream origin supports serving a single Range, but does not support serving Multipart Range Requests, which is quite common, Trickster can transparently enable that support on behalf of the origin. To do so, Trickster offers a unique feature called Upstream Range Dearticulation, that will separate any ranges needed from the origin into individual, parallel HTTP requests, which are reconstituted by Trickster. This behavior can be enabled for any origin that only supports serving a single Range, by setting the origin configuration value <code>dearticulate_upstream_ranges = true</code>, as in this example:</p>
<pre><code class="language-toml">[origins]
    [origins.default]
    provider = 'reverseproxycache'
    origin_url = 'http://example.com/'
    dearticulate_upstream_ranges = true
</code></pre>
<p>If you know that your clients will be making Range requests (even if they are not Multipart), check to ensure the configured origin supports Multipart Range requests. Use <code>curl</code> to request any static object from the origin, for which you know the size, and include a Multipart Range request; like <code>curl -v -H 'Range: bytes=0-1, 3-4' 'http://example.com/object.js'</code>. If the origin returns <code>200 OK</code> and the entire object body, instead of <code>206 Partial Content</code> and a multipart body, enable Upstream Range Dearticulation to ensure optimal performance.</p>
<p>This is important because a partial hit could result in multiple ranges being needed from the origin - even for a single-Range client request, depending upon what ranges are already in cache. If Upstream Range Dearticulation is disabled in this case, full objects could be uncessaritly returned from the Origin to Trickster, instead of small delta ranges, irrespective of the object's overall size. This may or may not impact your use case.</p>
<p>Rule of thumb: If the origin does not support Multipart requests, enable Upstream Range Dearticulation in Trickster to compensate. Conversely, if the origin does support Multipart requests, do not enable Upstream Range Dearticulation.</p>
<h3 id="disabling-multpart-ranges-to-clients">Disabling Multpart Ranges to Clients</h3>
<p>One of the great benefits of using Upstream Range Dearticulation is that it transparently enables Multipart Range support for clients, when fronting any origin that already supports serving just a single Range.</p>
<p>There may, however, be cases where you do not want to enable Multipart Range support for clients (since its paired Origin does not), but need Upstream Range Dearticulation to optimize Partial Hit fulfillments. For those cases, Trickster offers a setting to disable Multipart Range support for clients, while Upstream Range Dearticulation is enabled. Set <code>multipart_ranges_disabled = true</code>, as in the below example, and Trickster will strip Multipart Range Request headers, which will result in a 200 OK response with the full body. Client single Range requests are unaffected by this setting. This should only be set if you have a specific use case where clients <em>should not</em> be able to make multipart Range requests.</p>
<pre><code class="language-toml">[origins]
    [origins.default]
    provider = 'reverseproxycache'
    origin_url = 'http://example.com/'
    dearticulate_upstream_ranges = true
    multipart_ranges_disabled = true
</code></pre>
<h2 id="partial-hit-with-object-revalidation">Partial Hit with Object Revalidation</h2>
<p>As explained above, whenever the client makes a Range request, and only part of the Range is in the Trickster cache, Trickster will fetch the uncached Ranges from the Origin, then reconstitute and cache all of the accumulated Ranges, while also replying to the client with its requested Ranges.</p>
<p>In the event that a cache object returns 1) a partial hit, 2) that is no longer fresh, 3) but can be revalidated, based on a) the Origin's provided caching directives or b) overridden by the Trickster operator's explicit <a href="/docs/paths.md">path-based Header configs</a>; Trickster will revalidate the client's requested-but-cached range from the origin with the appropriate revalidation headers.</p>
<p>In a Partial Hit with Revalidation, the revalidation request is made as a separate, parallel request to the origin alongside the uncached range request(s). If the revalidation succeeds, the cached range is merged with the newly-fetched range as if it had never expired. If the revalidation fails, the Origin will return the range needed by the client that was previously cached, or potentially the entire object - either of which are used to complete the ranges needed by the client and update the cache and caching policy for the object.</p>
<h3 id="range-miss-with-object-revalidation">Range Miss with Object Revalidation</h3>
<p>Trickster recognizes when an object exists in cache, but has none of the client's requested Ranges. This is a state that lies between Cache Miss and Partial Hit, and is known as "Range Miss." Range Misses can happen frequently on Range-requested objects.</p>
<p>When a Range Miss occurs against an object that also requires revalidation, Trickster will not initiate a parallel revalidation request, since none of the client's requested Ranges are actually eligible for revalidation. Instead, Trickster will use the Response Headers returned by the Range Miss Request to perform a local revalidation of the cache object. If the object is revalidated, the new Ranges are merged with the cached Ranges before writing to cache based on the newly received Caching Policy. If the object is not revalidated, the cache object is created anew solely from the Range Miss Response.</p>
<h3 id="multiple-parts-require-revalidation">Multiple Parts Require Revalidation</h3>
<p>A situation can arise where there is a partial cache hit has multiple ranges that require revalidation before they can be used to satisfy the client. In these cases, Trickster will check if Upstream Range Dearticulation is enabled for the origin to determine how to resolve this condition. If Upstream Range Dearticulation is not enabled, Trickster trusts that the upstream origin will support Multipart Range Requests, and will include just the client's needed-and-cached-but-expired ranges in the revalidation request. If Upstream Range Dearticulation is enabled, Trickster will forward, without modification, the client's requested Ranges to the revalidation request to the origin. This behavior means Trickster currently does not support multiple parallel revalidations requests. Whenever the cache object requires revalidation, there will be only 1 revalidation request upstream, and 0 to N additional parallel upstream range requests as required to fulfill a partial hit.</p>
<h2 id="if-range-not-yet-supported">If-Range Not Yet Supported</h2>
<p>Trickster currently does not support revalidation based on <code>If-Range</code> request headers, for use with partial download resumptions by clients.  <code>If-Range</code> headers are simply ignored by Trickster and passed through to the origin, which can result in unexpected behavior with the Trickster cache for that object.</p>
<p>We plan to provide full support for <code>If-Range</code> as part of Trickster 1.1 or 1.2.</p>
<h2 id="mockster-byte-range">Mockster Byte Range</h2>
<p>For verification of Trickster's compatibility with Byte Range Requests (as well as Time Series data), we created a golang library and accompanying standalone application dubbed Mockster. Mockster's Byte Range library simply prints out the <code>Lorem ipsum ...</code> sample text, pared down to the requested range or multipart ranges, with a few bells and whistles that allow you to customize its response for unit testing purposes. We make extensive use of Mockster in unit testing to verify the integrity of Trickster's output after performing operations like merging disparate range parts, extracting ranges from other ranges, or from a full body, compressing adjacent ranges into a single range in the cache, etc.</p>
<p>It is fairly straightforward to run or import Mockster into your own applications. For examples of using it for Unit Testing, check out <a href="https://github.com/tricksterproxy/trickster/blob/main/internal/proxy/engines/objectproxycache_test.go">/internal/proxy/engines/objectproxycache_test.go</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../promsim/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                PromSim Update
              </div>
            </div>
          </a>
        
        
          <a href="../request_rewriters/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Request Rewriters
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../assets/javascripts/bundle.9554a270.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>